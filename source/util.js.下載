var R=Object.defineProperty;var S=(i,a,o)=>a in i?R(i,a,{enumerable:!0,configurable:!0,writable:!0,value:o}):i[a]=o;var x=(i,a,o)=>(S(i,typeof a!="symbol"?a+"":a,o),o),w=(i,a,o)=>{if(!a.has(i))throw TypeError("Cannot "+o)};var h=(i,a,o)=>(w(i,a,"read from private field"),o?o.call(i):a.get(i)),y=(i,a,o)=>{if(a.has(i))throw TypeError("Cannot add the same private member more than once");a instanceof WeakSet?a.add(i):a.set(i,o)},v=(i,a,o,f)=>(w(i,a,"write to private field"),f?f.call(i,o):a.set(i,o),o);(function(i,a,o){"use strict";var c,g,p;var f={utf8Length:function(r){return new Blob([r]).size},utf8Cut(r,e){if(f.utf8Length(r)<=e)return r;let s="";for(let l=1;l<=r.length;l++){let n=r.slice(0,l);if(this.utf8Length(n)>e)break;s=n}return s}},N={format:function(r,s){if(isNaN(r))return NaN;var t="";r<0&&(r=Math.abs(r),t="-");for(var s=typeof s=="string"?s:",",l=r.toString().split("."),n=l[0].split(""),u=[];n.length>3;)u.unshift(n.splice(n.length-3,3).join(""));return u.unshift(n.join("")),l[0]=u.join(s),t+l.join(".")}};let A={encode:function(r){let e={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#039;"};return r.replace(/[&<>"']/g,t=>e[t])},decode:function(r){let e={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#039;":"'","&#39;":"'"};return r.replace(/&(?:amp|lt|gt|quot|#0?39);/g,t=>e[t])}},C={call:function(r,e,t,s,l){let n={xhrFields:{withCredentials:!0},method:r};if(s){let u=new Bahamut.Csrf;u.setCookie(),n.headers=u.getJqueryHeaders()}return e.match("^https://")||(e="https://api.gamer.com.tw/"+e),n.url=e,n.data=t,l&&(n.processData=!1,n.contentType=!1),i.ajax(n)}},E={isMobile:function(){let r=navigator.userAgent||navigator.vendor||a.opera;return!!(/android.+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|symbian|treo|up\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino/i.test(r)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|e\-|e\/|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(di|rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|xda(\-|2|g)|yas\-|your|zeto|zte\-/i.test(r.substr(0,4)))}},F={showPageButton:function(r,e,t){if(t==0){i(r).html("");return}let s=5,l=4,n=(s-1)/2,u=n+1;var d=1,k=t;t<=5?(d=1,k=t):e<=3?(d=1,k=Math.min(Math.max(e+n,l),t)):t-e>=3?(d=e-n,k=e+n):(d=Math.max(1,Math.min(e-n,t-u)),k=t),nunjucks.configure({autoescape:!0});let q=nunjucks.render("pagination.njk.html",{currentPage:e,totalPage:t,start:d,end:k+1,callback:this.changePage.toString(),isMobile:!1});i(r).html(q),i('[name="common_pagination"]').off("click"),i('[name="common_pagination"]').on("click",function(){let U=i(this).data("page");m.Pagination.changePage(U)})},setCallback:function(r){this.callback=r},changePage:function(r){const e=a.location.search,t=new URLSearchParams(e);typeof m.Pagination.callback<"u"&&m.Pagination.callback(r),t.set("page",r),history.replaceState("","","?"+t.toString()),location.reload()}};class b{constructor(){if(this.constructor==b)throw new Error("Abstract classes can not be instantiated.")}static toggle(){const e=new this;e.getName()==e.getCurrentThemeName()?e.remove():e.apply()}apply(){a.document.querySelector("html").dataset.theme=this.getName()}remove(){delete a.document.querySelector("html").dataset.theme}getName(){throw new Error("Not implemented.")}getCurrentThemeName(){var e;return(e=a.document.querySelector("html").dataset)==null?void 0:e.theme}}let P={Dark:class extends b{apply(){super.apply(),Cookies.set("ckForumDarkTheme","yes",{expires:365,domain:"gamer.com.tw"}),a.location.reload()}remove(){super.remove(),Cookies.remove("ckForumDarkTheme",{domain:"gamer.com.tw"}),a.location.reload()}getName(){return"dark"}getCurrentThemeName(){let e=super.getCurrentThemeName();return!e&&Cookies.get("ckForumDarkTheme")=="yes"&&(e="dark"),e}}},m=a.Util||{};m.errorHandler=function(r){var e={401:function(){a.User.Login.requireLogin()}};return function(t){r&&r[t.code]?r[t.code](t):e[t.code]?e[t.code](t):Dialogify.alert(t.message)}};var j={GtmParams:(c=class{constructor(e,t){y(this,g,void 0);y(this,p,void 0);Array.isArray(e)&&(e=new Map(e)),v(this,p,e||new Map),v(this,g,t||"all_click")}set(e,t){if(!e||!t)return this;switch(e){case c.PREFIX+"click":h(this,p).delete(c.PREFIX+"link-click");break;case c.PREFIX+"link-click":h(this,p).delete(c.PREFIX+"click");break;default:}return h(this,p).set(e,t),this}event(e){return v(this,g,e),this}toHtmlAttr(e){let t=[];for(let[l,n]of h(this,p))l=l.replaceAll(" ","-"),n=n.replaceAll('"',"&quot;"),t.push(`${l}="${n}"`);let s=t.join(" ");return e&&(s=" "+s),s}setElementAttr(e){for(let[t,s]of h(this,p))t=t.replaceAll(" ","-"),s=s.replaceAll('"',"&quot;"),e.setAttribute(t,s)}pushDataLayer(){let e={};e.event=h(this,g);for(let[t,s]of h(this,p))t=t.replaceAll(" ","-"),e[t]=s;a.dataLayer&&a.dataLayer.push(e)}toString(){return this.toHtmlAttr()}click(e){return this.set(c.PREFIX+"click",e)}linkClick(e){return this.set(c.PREFIX+"link-click",e)}service(e){return this.set(c.PREFIX+"service",e)}page(e){return this.set(c.PREFIX+"page",e)}area(e){return this.set(c.PREFIX+"area",e)}type(e){return this.set(c.PREFIX+"type",e)}var1(e){return this.set(c.PREFIX+"var1",e)}var2(e){return this.set(c.PREFIX+"var2",e)}},g=new WeakMap,p=new WeakMap,x(c,"PREFIX","data-gtm-"),c),getGTMPageName:function(){var r="";if(a.location.hostname=="forum.gamer.com.tw")switch(a.location.pathname){case"/A.php":return"A\u9801";case"/B.php":return"B\u9801";case"/C.php":return"C\u9801";case"/Co.php":return"Co\u9801";case"/G1.php":return"\u7CBE\u83EF\u5340\u76EE\u9304\u5217\u8868\u9801";case"/G2.php":return"\u7CBE\u83EF\u5340\u6587\u7AE0\u5167\u5BB9\u9801";case"/index.php":return"\u71B1\u9580\u54C8\u5566\u5340";case"/myBoard.php":return"\u6211\u7684\u54C8\u5566\u5340";case"/search.php":return"\u641C\u5C0B\u7D50\u679C\u9801";case"/post1.php":return"\u54C8\u5566\u677F\u767C\u6587\u9801";default:return""}if(a.location.hostname=="home.gamer.com.tw")switch(a.location.pathname){case"/index.php":return"\u5275\u4F5C\u5927\u5EF3";case"/artwork.php":case"/creationDetail.php":return"\u5275\u4F5C\u6587\u7AE0\u9801";case"/profile/my_board.php":return"\u5C0F\u5C4B\u6211\u7684\u54C8\u5566\u677F";case"/profile/forum_post.php":return"\u5C0F\u5C4B\u54C8\u5566\u5340\u767C\u8868\u9801";case"/creation/coin_analysis.php":return"\u5275\u4F5C\u8005\u5F8C\u53F0_\u76C8\u5229\u72C0\u614B\u9801";case"/creation/comment_manage_creation":return"\u5275\u4F5C\u8005\u5F8C\u53F0_\u6700\u65B0\u56DE\u8986\u9801_\u5C0F\u5C4B";case"/creation/dashboard.php":return"\u5275\u4F5C\u8005\u5F8C\u53F0_\u5F8C\u53F0\u4E3B\u9801";default:return""}if(a.location.hostname=="gnn.gamer.com.tw")switch(a.location.pathname){case"/index.php":return"GNN\u5217\u8868";case"/gnn.php":return"GNN\u5167\u5BB9\u9801";default:return""}if(a.location.hostname=="guild.gamer.com.tw")switch(a.location.pathname){case"/index.php":return"\u516C\u6703\u5927\u5EF3";case"/guild.php":return"\u516C\u6703\u9801";case"/feed.php":return"\u516C\u6703\u52D5\u614B\u7246";case"/post_detail.php":return"\u516C\u6703\u55AE\u7BC7\u6587\u7AE0\u5167\u5BB9\u9801";default:return""}if(a.location.hostname=="www.gamer.com.tw")switch(a.location.pathname){case"/index.php":case"/index2.php":return"\u9996\u9801";default:return""}if(a.location.hostname=="prj.gamer.com.tw")switch(a.location.pathname){case"/acg/acgEvent.php":return"\u8C50\u6EFF\u4E3B\u984C\u9801";default:return""}return r}};m.String=f,m.Number=N,m.Html=A,m.Api=C,m.UserAgent=E,m.Pagination=F,m.Theme=P,m.Ga4=j,a.Util=m})(jQuery,window);
