(function(window,$){var acgTimeout;let moveEvent=function(id){$("html, body").animate({scrollTop:$(id).offset().top-50},500)};if(Cookies.get("ckForumDarkTheme")=="yes"&&$('link[href*="dark.css"]').length!=0){$("html").attr("data-theme","dark")}let acgEvent=function(){var isMobile=$("#prjAcgEventPreview").data("mobile");if(isMobile){return}let fetch_config={credentials:"include",method:"get"};url="https://api.gamer.com.tw/prj/v1/acg_event.php?entrance=1";url=new URL(url);fetch(url,fetch_config).then(resp=>{resp.json().then(json=>{if(json.eventInfo.character=="taozi"){$("#prjAcgEventImg").prop("src","https://i2.bahamut.com.tw/prj/themepage/peach-1.png");$("#prjAcgEvent").addClass("peach").removeClass("pomelo")}else{$("#prjAcgEventImg").prop("src","https://i2.bahamut.com.tw/prj/themepage/pomelo-1.png");$("#prjAcgEvent").addClass("pomelo").removeClass("peach")}if(json.eventInfo.img1==""){$("#prjAcgEventImg1").parent().remove()}else{$("#prjAcgEventImg1").prop("src",json.eventInfo.img1)}if(json.eventInfo.img2==""){$("#prjAcgEventImg2").parent().remove()}else{$("#prjAcgEventImg2").prop("src",json.eventInfo.img2)}if(json.eventInfo.img3==""){$("#prjAcgEventImg3").parent().remove()}else{$("#prjAcgEventImg3").prop("src",json.eventInfo.img3)}var isMobile=$("#prjAcgEventPreview").data("mobile");if(!isMobile){$("#prjAcgEvent").mouseover(function(){clearTimeout(acgTimeout);$("#prjAcgEventPreview").show()});$("#prjAcgEventPreview").mouseover(function(){clearTimeout(acgTimeout);$("#prjAcgEventPreview").show()});$("#prjAcgEventPreview").mouseleave(function(){acgTimeout=setTimeout(function(){$("#prjAcgEventPreview").hide()},200)});$("#prjAcgEvent").mouseleave(function(){acgTimeout=setTimeout(function(){$("#prjAcgEventPreview").hide()},200)})}$("#prjAcgEvent").prop("href","https://prj.gamer.com.tw/acg/acg_event.php?permanentId="+json.eventInfo.id);$("#prjAcgEventName").text(json.eventInfo.title);$("#prjAcgEventDesc").text(json.eventInfo.desc);$("#prjAcgEventStory").text(json.eventInfo.story);$("#prjAcgEvent").show()})}).catch(reason=>{console.log(reason)})};window.Quicktool=window.Quicktool||{};window.Quicktool.move=moveEvent;window.Quicktool.acgEvent=acgEvent})(window,jQuery);